# 보안,정책,조직 솔루션
## __<span style="color:#9999ff">보안 정책의 필요성과 구조</span>__
- __<span style="color:#ff9933">보안 정책의 구조</span>__
  - 
  - **정책 > 지침 > 절차**
- __<span style="color:#ff9933">보안 정책의 구조의 예</span>__
  - 
  - 정책에 준 하는 문서를 '규정'이라 하고, 지침에 해당되는 문서를 '세칙'과 '지침'으로 구분한다
  - **A은행의 보안 정책 구조**
  - |||
    |---|---|
    |규정|내규 규정</br>전산 및 통신 업무 규정|
    |세칙|전산 및 통신 업무 세칙, 국외 역 셍터 운영 세칙</br>영업 연속성 계획 관리 세칙, 책임자 거래 관리 세칙 등등|
    |지침|전산 보안 업무 지침, 안전 관리 업무 지침</br>프로젝트 외주 관리 지침, 데이터베이스 관리 지침 등등|
    |절차|침해 사고 대응 절차, 보안성 검토 절차</br>원격지 장애 복구 처리 절차 등등|
- __<span style="color:#ff9933">보안 정책의 구분</span>__
  - 
  - 규칙으로 지켜야 할 정책(regulatory)
  - 하고자 하는 일에 부합하는 정책이 없을 때 참고하거나 지키도록 권유하는 정책(advisory)
  - 어떠한 정보나 사실을 알리고자 하는 목적의 정책(informative)
  - 보안 수준에 따라 나누기도 함
- __<span style="color:#ff9933">Security Policy</span>__
  - 
  - 조직의 상위 관리자가 만든 보안 활동에 대한 일반적인 사항을 기술한 문서
  - 일반적으로 5쪽 정도의 분량이며 최대 10여 쪽을 넘지 않음
  - 기록 내용
    - 보호하려는 자산
    - 정보 소유자와 그의 역할 및 책임 정의
    - 관리되는 정보의 분류와 기준 정의
    - 관리에 필요한 기본적인 통제 내용
- __<span style="color:#ff9933">Standards</span>__
  - 
  - 일반적으로 지켜야 할 보안 사항에 대한 기술한 문서
  - 세부 기술까지 설명하지는 않고 일반적인 표준 절차만 담고 있음
- __<span style="color:#ff9933">Baselines</span>__
  - 
  - 조직에서 지켜야 할 가장 기본적인 보안 수준의 기술한 문서
- __<span style="color:#ff9933">Guidelines</span>__
  - 
  - 특정 상황에 대한 충고나 방향 등을 제시한 문서
  - 부합하는 Standards가 없으면 Guidelines를 참고하여 행동을 결정
- __<span style="color:#ff9933">Procedures</span>__
  - 
  - 가장 하위의 문서로 각각의 절차에 대한 세부 내용을 담고 있음
  - 일반적으로 말하는 메뉴얼 수준의 내용을 포함
## __<span style="color:#9999ff">보안 정책의 주요 요소</span>__
- __<span style="color:#ff9933">정보보호관리체계</span>__
  - 
  - 영국에서 처음 만들어진 BS7799 part1(실행지침)과 part2(규격)를 근거로 발전
  - ISO/IEC27001은 정보보호 관리 체계에 대한 국제 표준이자, 가장 권위 있는 국제 인증이 됨
  - ![](https://mblogthumb-phinf.pstatic.net/20131022_239/mssinnovator_1382367987534jelhW_PNG/20131021_232215.png?type=w2)
- __<span style="color:#ff9933">국내 인증제도(ISMS-P)</span>__
  - 
  - ISMS
    - 정보보호를 중심으로 인증
    - 대상 - 기존의 ISMS의무 대상 기업 및 기관(개인정보를 보유하지 않거나 개인정보 흐름의 보호가 불필요한 조직)
  - ISMS-P
    - 정보보호 역역과 개인정보의 흐름을 모두 인증하는 경우
    - 대상 - 보호하고자 하는 정보서비스가 개인정보의 흐름을 가지고 있어 개인정보 처리 단계별 보안 강화가 필요한 조직
## __<span style="color:#9999ff">보안 조직의 필요성</span>__
- __<span style="color:#ff9933">보안 조직의 필요성</span>__
  - 
  - 국가사이버보안센터(NCSC)
  - 금융감독원
    - 전 금융권이 준수해야 하는 전자금융 감독 규정을 마련
      - 전체 임직원의 5%는 IT 인력으로 구성
      - IT 인력의 5%는 정보보안 인력으로 구성
      - 정보보안 관련 예산이 7%이상이 되도록 권고
    - 금융 보안원
      - 2015년 설립한 금융보안 전담 기관
        - 금융 부문 통합보안관제,침해 대응 및 침해정보 공유,취약점 분석·평가,금융보안 정책·기술 연구,정보보호 관리체계 인증,신규 기술과 서비스에 대한 보안 및 평가,금융보안교육 등 종합적인 금융보안서비스를 제공
    - 한국인터넷진흥원
      - 2009년 한국정보보호진흥원(2001년 설립) 정보통신국제협력진흥원과 통합
      - 인터넷 침해대응,개인정보보호,인터넷 윤리 및 문화운동,방송통신 국제협력
## __<span style="color:#9999ff">보안 솔루션</span>__
- __<span style="color:#ff9933">SSO(Single Sign On)</span>__
  - 
  - 가장 기본적인 인증 시스템
  - '모든 인증을 하나의 시스템에서'라는 목적으로 개발
  - 시스템이 몇 대라도 한 시스템의 인증에 성공하면 다른 시스템의 접근 권하는 모두 얻는 것
  - ![](http://blog.questionmark.com/wp-content/uploads/2016/05/SSO.png)
  - __<span style="color:#14a492">인증 대행 모델</span>__
    - 
    - SSO 에이전트에서 대항 시스템의 인증 정보(예, ID/패스워드)를 보관하고 있다가 대상 시스템으로 전달해주는 방식
    - ![](https://t1.daumcdn.net/cfile/blog/2601FA3A52AAAA4933)
  - __<span style="color:#14a492">인증 정보 전달 모델</span>__
    - 
    - SSO 서버에서 로그인 정보를 확인하여, 대상 시스템으로 전달할 토큰을 발급 받음
    - 웹 환경에서는 쿠키를통해 정보를 전달하기도 함
    - ![](https://t1.daumcdn.net/cfile/tistory/9913EE475B27777617)
  - __<span style="color:#14a492">약점</span>__
    - 
    - 최초 인증 과정을 통과하면 모든 서버나 사이트에 접속할 수 있는 단일 장애점이 약점
    - 약점을 보안하기 위해 중요 정보에 접근할 때는 지속적인 인증을 하도록 되어있음
- __<span style="color:#ff9933">구현 방법</span>__
  - 
  - __<span style="color:#14a492">SAML(Security Assertion markup Language)</span>__
    - 
    - 인증정보 제공자와 서비스 제공자 간의 인증 및 인가 데이터를 교환하기 위한 XML기반의 표준 데이터 포맷
    - SAML은 인증 정보를 XML포맷으로 생성하고 이 XML데이터를 암호화함으로써 제 3자에게 내용을 노출시키지 않고 최종 수신자에게 전달
    - ![](https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Saml2-browser-sso-redirect-post.png/900px-Saml2-browser-sso-redirect-post.png)
  - __<span style="color:#14a492">OAuth</span>__
    - 
    - Authorization을 위한 개방형 표준 프로토콜
    - OAuth의 핵심은 Access Token
    - **Access Token**
      - 임의의 문자열 값이고, 토큰을 발급해준 서비스 만이 해당 토큰의 정보를 알고 있음
      - 이 토큰은 Resource Owner가 자신의 정보를 넘겨주는 것에 대해서 동의한다는 증표
    - **Refresh token**
      - Access을 간편하게 발급받을 수 있는 Refresh token을 Access Token과 함께 받음
      - Refresh token은 Access Token보다 유효기간이 김
      - Access Token이 만료되었을 떄 Access Token을 다시 받기 위한 수단으로 이용
  - __<span style="color:#14a492">OIDC</span>__
    - 
    - OpenID Connect는 권한 허가 프로토콜인 OAuth2를 이용하여 만들어진 인증 레이어
    - OAuth는 Authorization을 위한 기술
      - OAuth에서 발급하는 Access Token은 일시적으로 특정 권한을 허가해준 토큰
      - 사용자에 대한 정보는 담고 있지 않음
    - OIDC에서 인증을 위해 ID Token(JWT)라는 토큰을 추가
  - __<span style="color:#14a492">비교</span>__
    - 
    - SAML: 인증/인가 모두 제공, XML기반 Enterprise용 SSO 구축에 주로 사용
    - OAuth2.0에서 Authorization(인가)만 제공, JSON기반, 자격증명 App과 공유하지 않고도 자원을 사용할 수 있게 해줌
    - OpenID Connect : OAuth2.0와 함께 주로 사용 JSON기반 Mobile과 native app 에서 사용 될 수 있는 구조를 가짐
    - ![](https://resilient-networks.com/wp-content/uploads/2017/01/table.png)
- __<span style="color:#ff9933">VPN</span>__
  - 
  - 방화벽, 침입 탐지 시스템과 함께 가장 일반적인 보안 솔루션 중 하나
  - 두 개 이상의 물리적 네트워크(또는 장치) 사이의 인터넷/공용 네트워크를
  - 사용자/장치가 직접 연결된 하나의 개인 네트워크에 있는 것처럼 데이터를 보내고 받을 수 있도록 확정된 개인 네트워크를 만듬
  - 전용선과 비슷한 수준의 기밀성을 위해 암호화 필요
  - VPN에 사용하는 암호화 프로토콜 : PPTP, L2TF, SSL 등
  - 현재 웹 브라우저의 인프라를 이용한는 VPN이 널리 사용되고 있음 SSL VPN이 널리 사용되고 있음
  - __<span style="color:#14a492">이용 사례</span>__
    - 
    - 해외 에서 국내 올라인 게임 즐기기 
    - 집에서 회사 내부 시스템에 접근하기
    - 원격의 두 지점을 내부 네트워크처럼 이용하기
  - __<span style="color:#14a492">VPN 주요기능</span>__
    - 
    - 개인정보 처리방침
      - 암호화를 사용하여 퍼블링 WIFI 네트워크를 통해 연결할 때 이 기밀 정보를 프라이빗으로 유지
    - 익명
      - IP주소에는 사용자의 위치 및 검색 활동에 대한 정보가 포함
      - 인터넷에서 익명을 유지하기 위해 IP주소를 숨김
    - 보안
      - VPN 서비스는 암호화를 사용하여 무단 액세스로부터 인터넷 연결을 보호
      - 의심스러운 인터넷 활동이 있을 경우 미리 선택된 프로그램을 끝내는 종료 메커니즘 역할
- __<span style="color:#ff9933">침입 탐지 시스템(IDS)</span>__
  - 
  - __<span style="color:#14a492">침임 탐지 시스템의 개요</span>__
    - 
    - 네트워크를 통한 공격을 탐지하기 위한 장비
    - 내부의 해킹이나 악성 코드 활동 탐지와 같이 방화벽이 하지 못하는 일을 수행
  - __<span style="color:#14a492">침입 탐지 시스템의 주요 기능</span>__
    - 
    - **데이터수집**
      - HIDS와 NIDS는 각각 장단점이 있어 상호 보완적으로 사용함
      - **호트스 기반의 침입 탐지 시스템(HIDS)**
        - 윈도우나 유닉스 등의 운영체제에 부가적으로 설치, 운용되거나 일반 크라이언트에 설치
        - 운영체제에 설정된 사용자 계정에 따라 어떤 사용자가 어떤 접근을 시도하고 어떤 작업을 했는지 기록을 남기고 추적
        - 네트워크 환경과의 연계성이 낮아 전체 네트워크에 대한 침입 담지가 불가능, 자신이 공격 대상이 될 떄만 침입 탐지 가능
        - 운영체제의 취약점이 HIDS를 손상할 수 있으며 다른 침입 탐지 시비용이 많이 드는 것이 단점
      - **네트워크 기반의 침입 탐지 시스템**
        - 네트워크에서 하나의 독립된 시스템으로 운용
        - 감시와 로깅을 할 때 네트워크 자원이 손실되거나 데이터가 변조되지 않음
        - HIDS로는 할 수 없는 네트워크 전반에 대한 감시를 할 수 있으며 감시 영역이 상대적으로 큼
        - IP주소를 소유하지 않아 해커의 직접적인 공격을 거의 완벽하게 방어할 수 있고 존재 사실도 숨길 수 있음
        - 공격에 대한 결과를 알 수 없으며 암호화된 내용을 검사할 수 없음
        - 10Gbps 이상의 고속 네트워크에서는 네트워크 카드 등의 하드웨어적인 한계로 네트워크의 모든 패킷을 검사하기 어려움
    - **데이터 필터링과 축약**
      - HIDS와 NIDS에 의해 수집된 침입 관련 데이터를 한곳에 모아 관리하면 데이터를 상호 연관 시켜 좀 더 효과적으로 분석함으로써 공격에 빠르게 대응할 수 있음
      - 보안이 강화된 시스템에 데이터를 보관하여 침입으로 인한 손실을 막을 수 있음
      - 보안 감사에서는 세밀하고 자세한 데이터보다 빠르고 정확하게 파악할 수 있는 데이터가 더 유용하므로 데이터의 효과적인 필터링과 축약이 필수
      - 효과적인 필터링에는 데이터 수집 규칙을 설정하는 작업이 필요
      - 클리핑 레벨을 설정하여 잘못된 패스워드로 일정 횟수 이상 접속하면 로그를 남기도록 하여 조정가능
    - **침입 탐지**
      - **오용 탐지 기법**
        - 이미 발견되고 정립된 공격 패턴을 미리 입력해두었다가 해당하는 패턴이 탐지되면 알려주는 것
        - 비교적 오탐률이 낮고 효율적
        - 알려직 공격 외에는 탐지할 수 없고 대량 데이터를 분석하는 데는 부적합
        - 어떤 순서로 공격을 실시 했는지에 대한 정보를 얻기 어려움
      - **이상 탐지 기법**
        - 정상적이고 평균적인 상태를 기준으로 급격한 변화를 일으키거나 확률이 낮은 일이 발생하면 알려주는 것
        - 인공지능 침입 탐지 시스템은 스스로 공격을 판단하고 결정을 내려 알려주지만 판단 근거가 확실하지 않고 오탐률이 높음
        - 면역 시스템은 새로운 공격을 당하면 스스로 학습하여 다시 그 공격이 발생하면 대응함
    - **책임 추적 및 대응**
      - 침입 탐지 시스템은 기본적으로 침입을 알려주는 시스템
      - 과거 : 침입에 대한 능동적인 기능이 별로 없고 공격을 발견하면 관리자에게 알람 등의 방법으로 알림
      - 최근 : 공격을 역추적하여 침입자의 시스템이나 네트워크를 사용하지 못하게 하는 능동적인 기능이 많이 추가
      - 침입 방지 시스템 (IPS) : 능동적인 기능을 많이 탑재한 침입 탐지 시스템
- __<span style="color:#ff9933">침입 방지 시스템(IPS)</span>__
  - 
  - __<span style="color:#14a492">침입 방지 시스템의 개발 과정</span>__
    - 
    - 방화벽은 IP주소나 포트에 의한 네트워크 공격을 차단할 수 있지만 응용 프로그램 수준의 공격과 새로운 패턴의 공격에 대한 정응력이 무척 낮고 실시간 대응을 할 수도 없음
    - 참입 탐지 시스템은 실시간 탐지는 가능하지만 대응책을 제시하지 못하기 때문에 대안 필요
    - 방화벽과 침입 탐지 시스템으로 해킹, 바이러스, 웜 공격을 막을 수 없는 것은 속도 때문
    - 취약점 발표 후 실제 공격까지 하루가 채 걸리지 않는 제로데이 공격이 많음
  - __<span style="color:#14a492">침입 방지 시스템의 동작 원리</span>__
    - 
    - 침입 방지 시스템은 탐지 시스템과 방화벽의 조합
    - 침입 탑지 기능을 수행한는 모듈이 패킷 하나하나를 검사하여 분석
    - 정상적이지 않으면 방화벽 기능의 모듈로 패킷 차단
    - ![](https://m.hostway.co.kr/wp-content/uploads/2014/07/0402_1.gif)
    - 원이나 악성 코드의 종류와 기술이 다양해지면서 코드나 패킷 분석으로 탐지해서 공격을 막기 어려워짐
    - 침입 방지 시스템에 가상 머신을 이용한 악성 코드 탐지 개념을 도입하여 적용
    - 가상머신에서 실행된 코드나 패킷이 키보드 해킹이나 무차별 네트워크 트래픽 생성 등 악성 코드와 유사한 동작을 보이면 해당 패킷을 차단
- __<span style="color:#ff9933">스팸메일 차단 솔루션</span>__
  - 
  - 메일 서버 앞쪽에 위치하여 프록시 메일 서버로 동작
  - SMTP프로토콜을 이용한 DOS공격이나 폭탄 메일, 스팸 메일 등을 차단
  - 최근에는 내부에서 외부로 보내는 메일의 본문 검색, 첨부 파일 검색등의 기능을 통해 내부정보 유출 방지 기능도 수행
  - __<span style="color:#14a492">메일 헤더 필터링</span>__
    - 
    - 메일 헤더의 내용 중에서 아이디, 보낸 사람 이름, 도메인 등에 특정 내용이 포함되어 있는지 검사
    - 보낸 서버의 IP, 도메인, 반송 주소의 유효성과 이상 유무를 검사
    - 너무 많은 수신자가 포함되어 있는지 혹은 존재하지 않은 수신자가 포함되어 있는지
  - __<span style="color:#14a492">제목 필터링</span>__ 
    - 
    - 메일 제목에 '광고','음란' 등의 문자열이 포함되어 있는지 검사
  - __<span style="color:#14a492">본문 필터링</span>__
    - 
    - 메일 본문에 특정 단어 또는 특정 문자가 포함되어 있는지 검사
    - 메일 본문 크기와 메일 전체 크기를 비요하여 유효성 검사
  - __<span style="color:#14a492">첨부파일 필터링</span>__
    - 
    - 첨부파일의 이름, 이름의 길이, 크기, 개수 등을 기준으로 필터링 수행
    - 특정 확장자의 첨부 파일만 메일을 통해 전송되도록 설정
- __<span style="color:#ff9933">방화벽</span>__
  - __<span style="color:#14a492">방화벽의 개요</span>__
    - 
    - 보안을 높이기 위한 일차적인 방법
    - 신뢰하지 않는 외부 네트워크와 신뢰하는 내부 네트워크 사이를 지나는 패킷을 미리 정한 규칙에 따라 차단하거나 보내주는 기능을 하는 하드웨어나 소프트웨어
  - __<span style="color:#14a492">PC 방화벽</span>__
    - 
    - 후킹 : 방화벽 드라이버 설치
    - 방화벽을 설치하면 일반적으로 PC방화벽 모듈이 네트워크 하드웨어 드라이버와 프로토콜 레벨 사이에 배치됨
  - __<span style="color:#14a492">접근 제어</span>__ 
    - 
    - 방화벽의 가장 기본적이고 중요한 기능
    - 관리자가 통과시킨 접근과 거부할 접근을 명시하면 방화벽이 그에 따라 수행
    - 구현 방법에 따라 패킷 필터링 방식, 프록시 방식으로 나뉨
    - 접근제어를 수행하는 룰셋은 방화벽을 기준으로 보호하려는 네트워크의 외부와 내부에 존재하는 시스템의 IP주소와 포트로 구성
    - 올바를 룰셋 적용
      - 허용할 서비스를 확인
      - 제공하려는 서비스가 보안상 문제가 없는지, 허용하는 것이 타당한지 검토
      - 서비스가 이루어지는 형태를 확인하고 어떤 룰을 적용할지 구체적으로 결정
      - 방화벽에 실제로 룰을 적용하고 적용된 룰을 검사
- __<span style="color:#ff9933">PC 보안 솔루션</span>__
  - 
  - __<span style="color:#14a492">백신</span>__
    - 
    - 시스템에 이미 바이러스가 침투했거나 USB드라이브와 같은 외부 장치를 통해 시스템에 복사되거나 실행될 때 이를 실시간으로 검사
    - 가장 좋은 형태는 백신과 PC방화벽을 함께 사용하여 서로의 약점이 보완되도록 하는 것
  - __<span style="color:#14a492">통합 PC 보안 솔루션의 추가 기능</span>__
    - 
    - 공유 자원 접근 제어
      - PC의 공우 자원을 중앙에서 관리하고 통제할 수 있게 하는 기능을 제공
    - 파일 암호 및 복호화
      - 침입 사고에 의한 내부 자료 유출을 막기 위해 특정 데이터를 암호화
    - 주변 기기 매체 제어
      - 시스템에 USB장치 증의 사용을 통제하는 기능
    - 자산 및 IP 관리
      - 중앙 관리 시스템의 인증을 거쳐야만 네트워크를 접속할 수 있게 하여 각 PC에 대한 정보 수집과 사용하는 IP 관리
    - 모니터링
      - 내부자가 외부로 보내는 메일을 확인하거나 네트워크 트래픽을 감시함으로써 기밀 정보 유출을 막을 수 있는 기능
- __<span style="color:#ff9933">DRM</span>__
  - 
  - 문서 보안에 초점을 맞춘 보안 기술로 문서를 열람하고 편집하고 프린트하는 것까지 접근 권한을 설정하여 통제
  - MS워드를 비롯해 HWP, TXT, PDF 파일 등 업무에 사용하는 대부분의 파일을 통제할 수 있음
  - ![](https://slidesplayer.org/slide/16341893/95/images/41/06.+%EA%B8%B0%ED%83%80+%EB%B3%B4%EC%95%88+%EC%86%94%EB%A3%A8%EC%85%98+DRM+%5B%EA%B7%B8%EB%A6%BC+10-28%5D+%EB%AC%B8%EC%84%9C+%EC%A0%91%EA%B7%BC+%EC%8B%9C+DRM+%EB%AA%A8%EB%93%88%EC%9D%98+%EC%97%AD%ED%95%A0.jpg)
- __<span style="color:#ff9933">ESM</span>__
  - 
  - 여러종류의 보안 솔루션을 중앙 집중화된 구조로 모니터링하기 위해 만든 솔루션
  - __<span style="color:#14a492">ESM 종류</span>__
    - 
    - 보안 또는 관리 정책에 따른 사용자 및 접근 제어를 위한 ESM
    - 최근 주류를 이루는 네트워크 및 시스템 취약점이나 위험 요소등을 분석하고 모니터링하는 관리 도구의 형태를 취하는 ESM
- __<span style="color:#ff9933">SIEM</span>__
  - 
  - IT 시스템 및 보안 시스템에서 발생하는 로그를 분석하여 이상 징후를 파악하고 그 결과를 경영진에게 보고할 수 있도록 하는 시스템
  - __<span style="color:#14a492">기능</span>__
    - 
    - 실시간 위험 탐지 및 대응을 위해 이벤트 로그 데이터를 실시간으로 수집하고 분석
    - 침해 공격 로그에 대한 포렌식과 컴플라이언스 또는 법적 조사를 위한 해단 데이터의 신속한 검색 및 리포팅 기능