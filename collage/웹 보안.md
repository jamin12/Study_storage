# 1주
## 인터넷의 탄생
- 1969년 10월 29일 미국 국방부 산하 고등연구국ARPA의 연구용 네트워크인 ARPANET을 통해 UCLA의 레너드 클라인록 교수가 UCLA의 컴퓨터에서 스탠퍼드대학교 SRI연구소의 컴퓨터로 메시지를 전송하는데 성공
## __<span style="color:#ff9933">인터넷 프로토콜</span>__
1. 프로토콜
   - 컴퓨터 간에 정보를 원할하게 교환하기 위해 상호간에 정한 여러가지 통신 규칙과 방법에 대한 약속 또는 규약
2. 프로토콜의 세 가지 요소
   - 구문(syntax): 데이터의 혀식이나 부호화 방법정의
   - 의미(semantics): 정확한 정보 전송을 위한 전송 제어와 오류 제어 방법 정의
   - 순서(timing): 송신자와 수신자 간 혹은 양단의 통신 시스템, 망 사이의 통신 속도나 순서 정의
3. TCP/IP
   - 가장 많이 사용되는 프로토콜
   - 프로토콜에 대한 상세한 내용은 RFC라는 문서를 통해 공개
4. RFC
   - 국제인터넷표준화기구(IETF)에서 만듦
   - 인터넷에서 기술을 구현하는 데 필요한 상세 절차와 기본 틀을 제공하는 기루 관련 문서.
## 인터넷 거버넌스
1. __<span style="color:#ff9933">국제인터넷주소관리기구(ICANN)(DNS)</span>__
   - 인터넷의 기술적인 문제를 관리
   - 인터넷의 유일한 식별자인 도메인 이름 시스템 (DNS)과 IP주소, 프로토콜 번호와 매개변수 배정 등을 관리
   - DNS 루트 네임 서버 시스템의 개선 및 운영 담당
2. __<span style="color:#ff9933">국제인터넷주소관리기구인터넷할당번호관리기관(IANA)</span>__
   - 인터넷이 생긴 초기에 사용자들에게 인터넷 주소를 할당하기 위해 국방정보청(DISA)이 만듦
   - 현재는 인터넷 소사이어티(ISOC)의 산하기관
   - __IANA의 가장 중요한 기능은 DNS ROOT ZONE을 관리하는것__
3. 인터넷소사이어티(ISOC)
   - 인터넷의 이용과 기술에 관한 국제적인 협조와 협력을 촉진하기 위해 1992년에 설립된 비영리 국제기구
   - 세개의 핵심 기구를 관리
     - IETF: 인터넷의 운영관리 개발에 대해 협의하고 프로토콜과 구조적인 사안을 분석하는 인터넷 표준화 기구
     - IESG: 인터넷의 기술적인 문제를 해결할 목적으로 설립된, 인터넷 아키텍처위원회 하부조직
     - IAB: 인터넷소사이어티의 감독 단체로 인터넷의 방침이나 장기적인 기획 및 기술 정책 등을 심의하고 결정
4. 월드와이드웹컨소시엄
   - www,웹브라우저, 웹 서버 기술의 표준화를 추진하기위해 교육, 연구 기관 및 관련 회사들이 모여 만든 단체
   - 보통 W3C라고 부름
   - W3C에서 정한 기술 표준은 국제적인 표준으로 인정받기 때문에 많은 기업과 연구가들이 활발한 활동을 펼치고 있음
5. 국제전기통신연합(ITU)
   - 1865년에 설립되어 1947년부터는 UN산하 기관으로 활동
   - ITU의 전기통신 표준화 부문 ITU-T은 인터넷에 영향을 미칠 수 있는 관세 문제를 다루고, 정보통신 네트워크에 대한 기술적인 표준과 운영 표준을 발행
   - 2012년 12 월 17일 ITU가 개최한 국제 전기통신 세계회의 WCIT에서 국제통신규약 개정안 통과 -> 인터넷에 대한 통제가 자발적인 기구에의한것에서 중앙 통제로 강화될것임을 예고
# 2주
## 웹의 탄생
1. www
   - 인터넷에 연결된 컴퓨터들이 하이퍼텍스트 형식으로 표현된 다양한 정보를 효과적으로 애용할 수 있도록 구성한 전 세계적인 시스템
   - 1989년 3월 13일 팀 버너스 리가 과학자들 사이에 쉽게 정보를 주고받기 위한 목적으로 정보관리 제안서를 발표
## REQUEST
1. http
   - 0.9 버전에서는 hTTP는 서버에서 단순히 읽기 기능만 지원
   - 1.0은 사진같은 추가 자원을 불러와야할 때 접속을 다시 해야만함
   - 1.1 connect가 안끊기고 유지되어있어 정보가 다 오기전까지 않끊김
2. request
   - 서버에 특정 동작을 요청
   - 시작 줄
     - http 요청의 시작줄을 메소드, 요청 url, http버전으로 구성
     - 각각은 띄어쓰기로 구분
   - 메소드는 URI가 가르키는 리소스를 대상으로 서버가 수행하길 바라는 동작을 나타냄
3. GET
   - GET: 웹 서버로부터 자료를 가져오는 기능을하는 GET을 많이 사용
4. POST
   - HTTP의 body영역에 소켓을 이용하여 데이터를 전송
   - URL을 통해 인수값을 전송하지 않기 때문에 다른 사람이 링크를 통해 해당 페이지를 볼 수 없음
   - 보내려는 인자값이 URL을 통해 노출되지 않아 보안 측면에서 GET방식보다 안전
5. Request 패킷의 메소드
   - HEAD: 서버 쪽 데이터를 검색하고 요청하는데 사용
   - Options: 자원에 대한 요구- 응답 관계에서 관련된 선택 사항에 대한 정보를 요청할 때 사용
   - put: 메시지에 포함되어 있는 데이터를 지정한 URI장소에 지정된 이름으로 저장
   - DELETE: URI에 지정되어 있는 자원을 서버에서 지울 수 있게함
   - TRACE: 요구 메시지의 최종 수신처 까지 루프백 검사용으로 사용
   - CONNECT: 터널이 되도록 동적으로 전환할 수 있는 프록시와 함께 사용하기 위해 사용
   - Cookie, APSID,SAPISID등 서버가 클라이언트에 전송한 인자값에 추가 정보를 보낼 때 사용
   - HOST: URL주소에 나타난 호스트명을 자세하게 나타내기 위해 사용
   - USER-Agent: 브라우저나 기타 클라이언트의 소프트웨어 정보를 줌

6. 프록시
   - 클라이언트가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해주는 컴퓨터 시스템이나 응용 프로그램
   - 개인정보 보호
   - 캐시사용 - 속도향상
   - 로그 기록 관리
   - 방화벽
   - 접속 우회
## 서버측 기능
1. 서버측 기능
   - 초기는 단순한 정적 페이지 제공
   - 현제는 입력한 값에 따라 다양한 결과를 화면에 보여주는 동적 기능 제공
2. 웹 애플리케이션이 이용하는 서버 측 기능
   - ASP,JSP,PHP 같은 서버측 스크립트 언어
   - 아파치,넷스케이프, 엔터프라이즈와 같은 웹 서버
   - MYsql,mariadb같은 데이터베이스
# 3주
## 웹 해킹의 발전 배경
1. 웹 해킹의 발전 배경
   - 1990년대 중반부터 방화벽IDS와 같은 네트워크 보안장비가 개발되면서 웹 해킹이 발전
   - 닷컴 열풍이 불면서 해커들이 점차 웹에 관심을 가지면서 웹의 취약점 연구도 활발하게 진행
2. 포트(port)
   - 항구라는 뜻
   - 인터넷의 바다, 인터넷 항해 라는말이 쓰인 것도 한 시스템의 포트에서 데이터가 출발하여 인터넷이라는 바다를 건너 다른 시스템 포트에 도달하는 흐름이었기 때문
   - 2000년 중반부터는 거의 모든 시스템이 방화벽으로 보호되어 80번 웹 포트 외 에는 모드 닫혀있는 경우가 많아져 웹 해킹이라는 주제가 많이 연구됨
## 일반적인 웹 해킹 과정
1. 웹 해킹 방법
   - 취약점의 존재 여부를 확인한 후 그곳을 통해 침투를 시도하는 방법
   - 발견 가능한 모든 공격 표면을 찾아서 매트릭스를 작성한 후 하나씩 시도하는 방법
2. 시스템에 침투하는 일반적인 해킹 과정
   - __<span style="color:#ff9933">공격 대상 선정 -> 정보 수집 -> 취약점 분석 -> 공격 -> report,delacement,흔적제거등</span>__
   - 과거에는 해커가 자신의 명성을 높이기 위해 공격에 성공한 후 웹 페이지를 변조하는 경우가 많았지만 요즘은 흔적을 교묘히 숨기는 경우가 많아짐.
     - 공격 대상 선정
       - 일반적으로 방문자가 많은 대표적인 웹 사이트를 주요 공격 대상으로 선정
       - 기업과 계약하여 모의해킹을 할 때는 주로 대상 목록을 사전에 선정
       - 외부에서 접글할 수 있는 모든 대상을 선정해도 무방할 경우 관련 도메인을 모두 검색한 후 가장 취약한 곳을 대상으로 함.
     - 정보 수집
       - 공격 대상이 보유하고 있는 외부 접점 중에서 웹 사이트를 통해 웹 애플리케이션을 개발할 때 사용한 언어, 웹 사이트 내 주요 공격 대상의 기능, 웹 서버의 종류등을 알아보는 것
       - 공격 대상의 특성과 취약한 표면을 찾음
       - 자동화 도구를 이용한 웹 사이트 탐색 및 분석
         - 공격할 웹 사이트에 접속한 후 취약점이 가장 많이 발생하고 영향력이 큰 영역을 먼저 조사
         - 웹사이트를 탐색하면서 사용자 로그인 부분, 게시판이나 자료실처럼 파일을 업로드할 수 있는 부분이 있는지 살펴봄
         - 웸 사이트의 디렉터리 구조나 소스코드 간의 연관성과 같은 기본 정보를 얻을 수 있는지 파악
       - site
         - 특정 사이트만 선택해서 집중적으로 검색할 때 사용
         - site:co.kr admin
       - filetype:
         - 특정 파일 타입을 검색할 때 사용
       - Link
         - 특정 링크가 포함된 페이즈를 검색할 때 사용
         - link:korea.ac.kr
       - cache:
         - 백업된 데이터를 볼 떄 사용
         - cache:korea.ac.kr
       - intitle
         - 디렉터리 리스팅에 취약한 사이트를 검색할 때 사용
         - intitle:index.of name size
         - intitle의 위험성이 많이 알려져 요즘은 intitle로 검색해도 결과가 예전만큼 많이 나오지 않음
       - inurl
         - site와 유사한 기능으로 특정 URL만을 대상으로 검생
         - inurl:admin/login.asp.com으로 검색하면 url이 .com이면서 admin/login.asp페이지가 있는 사이트를 검색
         - admin 디렉터리에 접근하지 못하게 하려면 다음과 같이 입력
           - __<span style="color:#ff9933">Disallow: /admin/</span>__
## OWASP TOP 10
1. OWASP TOP 10
   - 웹 애플리케이션 보안에 대한 정보를 공유하고 체계를 세우는 자발적인 온라인 정보 공유 사이트
   - 인젝션 취약점
     - 웹 애플리케이션에서 내부 데이터베이스와 연동한 결과를 웹 애플리케이션에 보내주는 부분에 주로 발생
     - 주로 SQL 쿼리문을 대상으로 하지만 OS나 LDAP도 악용될 수 있음
   - 인증 및 세션 관리 취약점
     - 웹 애플리케이션이 사용자에 대한 인증 및 세션 처리를 잘못했을 때 발생
   - 크로스 사이트 스크립팅(XSS)
     - 해당 웹 사이트를 방분하는 사용자를 공격하는 기법
     - 해당 웹 사이트 방문자의 쿠키나 세션을 추출할 수 있고 방문자를 악성 코드가 포함된 사이트로 리다이렉트할 수도 있음'
   - 취약한 직접 객체 참조
     - 인증 및 세션 관리 취약점과 유사하지만 특정 객체를 직접 참조할 떄 발생한다는 점이 다름
     - URL뒤에 다른 사용자의 아이드를 입력하여 사용자 계정 정보를 볼 수 있음
   - 보안 설정 오류 
     - 애플리케이션을 설치할 때 생기는 기본 페이지를 삭제하지 않고 그냥 방치하거나 최신 보안 패치를 업데이트 하지 않는 경우에 발생
     - 디렉터리 리스팅과 같은 애플리케이션 설정 오류도 포함
   - 민감한 데이터 노출
     - 신용카드 정보, 개인식별정보, 인증 정보와 같은 중요한 데이터를 제대로 보호하지 않을 때 발생
   - 기능 수준의 접근 통제 누락
     - 애플리케이션에서 각 기능에 접근하는 서버에 동일하게 접근 통제 검사를 수행할 경우 적절한 확인을 하지 않으면 공격자는 권하없이 요청 위조 가능
   - 크로스 사이트 요청 변조(CSRF)
     - 요청변조: 공겨갖가 입력한 스크립트를 웹 사이트 방문자가 실행함으로써 해당방문자의 권한으로 스크립트가 실행되도록 만드는 방식
     - On-Site 요청 변조: 한 사이트 내에서 요청 변조가 발생하는 취약점
     - crossStie 요청 변조: 웹 사이트에 악성 스크립스를 입력한 후 해당 사이트 방문자가 악성 스크립트에 의해 특정행동(개인정보 수정 등)을 실행하도록 만드는 것
   - 알려진 취약점이 있는 컴포넌트 사용
     - 취약한 컴포넌트를 악용하여 공격하면 데이터 손실이나 서버 장악 문제가 발생할 수 있음.
   - 검증되지 않은 리다이렉트 및 포워드
     - 목적 페이지를 결정할 때 신뢰되지 않은 데이터를 사용하거나 해당 사이트에 대한 적절한 검증이 없을 경우 피싱 사이트나 악성 코드가 포함된 사이트로 리다이렉트하거나 권한 없는 페이지로의 접근을 위해 포워드를 사용할 수 있음
2. OWASP
   - 비영리재단
   - 주로 웹 환경에서 발생할 수 있는 취약점(정보노출,악성파일 및 스크립트, 보안 취약점등)을 연구
   - 여러가지 취약점 중 상위 10가지의 위협에 대하여 3~4년 주기로 발표
   - 2001년 12월 마크 케페이와 데니스 그로브스 등에 의해 탄생
   - 2004년 OWASP top 10 이라는 웹 애플리케이션상의 10대 주요 취약점 발표
   - 우리나라는 2011년 1월 OWASP korea chapter 이사회가 조직되어 활동 전개
   - <img src ='http://www.igloosec.co.kr/files/2021/09/17/202109171512272aa533bd-5608-4a95-b6d6-e8e9bf5257d9.png'/>
# 4주 
### 인증
**인증**
- 사용자가 누구인지 확인하는 과정/절차   
 
**인가**
- 사용자가 요청하는 요청을 실행할 수 있는 권한 여부를 확인하는 과정/절차

### 인증 방법
|인증 유형|종류|
---:|---:
|알고 있는 것| 패스워드,주민등록 번호,I-PIN |
|가지고 있는 것 | 신분증,여권,공인 인증서 등등|
|그 자체| 홍채 지문|
|위치하는 곳| 지역 ip 주소|
        
***시저 암호 = ROT 암호방식***

### 나만의 방식으로 패스워드 관리하기
1. 패스워드 변경 
2. 패스어드 보관 파일의 암호화(excle파일의 셀 숨기기)
3. 외부 저장장치와 컴퓨터 하드디스크에 이중 보관

### 생체 인증의 측정 기준
1. FRR(false rejection rate type|error)
    - 권한이 있는 사람이 인증을 시도했을 떄 실패하는 비율
2. FAR(false acceptance rate,ytpe||error)
   - 권한이 없는 사람이 인증을 시도했을 떄 성공하는 비율
    - FRR이 높은 것보다 FAR이 높은 것이 더 심각한 문제가 될 수 있음
3. ERR(error equal rate)
    - FRR과 FAR이 그리는 곡선의 교차점 
### 접근 통제
- 수직적 접근 통제
  - 특정 정보에 대한 접근 권할을 수준별로 상이하게 설계한 통제
  - 대부분의 웹 사이트는 일반 사용자가 접근할 수 있는 기능 외에 일반 사용자가 접근할 수 없는 관리자 기능을 만들어 놓음
- 수평적 접근 통제
   - 웹 애플리케이션 내에 여러 사용자가 존재할 떄 상대방의 정보를 볼 수 없도록 통제하는 것
   - 수평적 접근 통제에 대한 공격은 주로url에 노출되는 자신의 식별 코드를 다른 사람의 것으로 변경하거나 쿠키 또는 세션 값을 다른 사람의 것으로 대체함으로써 이루어짐
- 비지니스 로직 접근 통제
   - 사용자 권한에 종속되지 않고 민감하거나 중요한 자원에 대한 접근과 관련된 것
### 접근 통제 방법 구분
1. 강제적 접근 통제 : MAC, mandatory Access Control
   - bell-lapadula
   - biba
      - 정보의 무결성을 높일 때 사용
         - 모든 사용자에게 보여질 수 있으나 수정은 **인가된 사용자**만 가능하도록 엄격하게 제어
         - 정보 전체의 신뢰도 향상에 목적이 있음
           - 읽기: 무결성 2인 사람이 무결성 1의 정보를 읽을 수 있지만 무결성 의 정보는 읽을 수 없음
           - 쓰기: 무결성 2의 정보가 신뢰도가 더 높은 무결성 1의 문서에 쓸 수 없음
   - chinese-wall
   - blp 모델
     -  최초의 수학적 모델로 정보의 기밀성에 따라 상하 관계가 구분된 정보를 보호기 위해 사용
     - *property(스타 프로퍼티)
         - 읽기 권한: 자신보다 낮은 보안 수준의 문서만 읽을 수 있음
         - 쓰기 권한 높은 보안 레벨의 문서에는 쓰기가 가능하지만 보안 레벨이 낮은 문서에 대한 쓰기 권한은 없음
2. 임의적 접근 통제 : DAC, Discretionary Access Control
    - 유닉스 파일 권한 : rwx rw- rw-
3. 역할기반 접근 통제 : RBAC, Role Based Access Control
  
### 접근 통제 구현 방법
1. 관리적 접근 통제
    - 정책 및 절차를 수립하여 조직에서 보유하고 있는 중요 정보가 무엇인지 식별 하고 그에 따른 통제 방안을 수립하는 것
    - 내부 임직원 들이 회사의 보안 정책을 준수하도록 하기 위한 직원 통제 활돌(직무 분리, 직무 교대, 감독 구조, 보안인식 훈련)

2. 논리적 접근 통제(기술적 통제)
    - 보호해야 할 정보에 접근하는 것을 제한하기 위해 사용하는 하드웨어와 소프트웨어 도구
    - 가장 많이 사용하는 것은 ip주소 또는 MAC주소에 따른 접근 통제
    - 인터페이스 통제: 필요한 기능만 사용할 수 있도록 메뉴나 셰의 형태로 인터페이스 제공
3. 물리적 접근 통제
    - 네트워크 분리, 경계선 보안 ,전산실 통제, 데이터 백업
    - 스위치나 라우터 등의 네트워크 장비에 임의로 접글할 수 없도록 잠금장치 등을 설치해 놓아야 함
# 5주 
## Sql 인젝션
## 연습 문제
- DML(manipulation), DDL(definition), DCL(control)
- retrieve the department of the employee Bob Franco
  - select department from employee where first_name = "Bob" and last_name = "Franco"
- change the department of Tobi barnett to Sales
  - update employee set department = "sales" where first_name = "tobi" and last_name = "barnett";
- modify the schema by adding the column phone (varcher(20)) to the table "employee"
  - ALTER TABLE employee ADD phone varchar(20);
- grant the usergroup "unauthorizeduser" the right to alter tables
  - Grant alter table to unauthorizedUser;
## SQL 인젝션 공격 원리
- 데이터베이스가 연동되는 부분에 SQL문을 넣어 공격
- 보통 로그인 이런쪽에 들어감